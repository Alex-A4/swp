<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ws="ws-component">
<head>
   <title>Demo: VDOM TreeView</title>
   <script type="text/javascript">
      window.wsConfig = { WSRootPath: '/sbis3-ws/ws/', wsRoot: '/sbis3-ws/ws/', WSTheme: 'wi_scheme', resourceRoot: '/', nostyle: true, globalConfigSupport: false };
      window.WSTheme = 'wi_scheme';
   </script>
   <script type="text/javascript" data-pack-name="contents" src="/contents.js"></script>
   <script type="text/javascript" src="/sbis3-ws/ws/ext/requirejs/require.js"></script>
   <script type="text/javascript" data-pack-name="ws" src="/sbis3-ws/ws/ext/jquery-min.js"></script>
   <script type="text/javascript" data-pack-name="ws" src="/sbis3-ws/ws/ext/jquery-cookie-min.js"></script>
   <script type="text/javascript" data-pack-name="ws" src="/sbis3-ws/ws/ext/jquery-notouch-min.js"></script>
   <script type="text/javascript" src="/sbis3-ws/ws/ext/requirejs/config.js"></script>
   <script type="text/javascript" src="/sbis3-ws/ws/lib/core.js"></script>
   <script type="text/javascript" data-pack-name="ws" src="/sbis3-ws/ws/res/js/bootup.js"></script>
   <script type="text/javascript" id="ws-include-css"></script>
   <link rel="stylesheet" type="text/css" href="/sbis3-ws/ws/css/core.css"/>
   <link rel="stylesheet" type="text/css" href="../sbis3-ws/ws/css/themes/webfonts/fonts.css"/>
   <link rel="stylesheet" type="text/css" href="../components/themes/online/online.css"/>
   <style>
      * {
         margin: 0;
         padding: 0;
      }
      html, body {
         font-family: 'TensorFont Regular', 'TensorFont'!important;
         font-size: 14px!important;
      }
      #DemoTreeView {
         width: 500px;
      }
   </style>
</head>
<body class="view-main">
<div id="Back" style="min-height: 24px;"></div>
<div id="DemoTreeView"></div>

<script type="text/javascript">
require(['Core/core-init'],function () {
   $(document).ready(function () {
      require(['SBIS3.CONTROLS/Link', 'SBIS3.CONTROLS/WSControls/Lists/TreeView2', 'WS.Data/Source/Memory'], function (Link, TreeView, MemorySource) {
         var
            TreeViewItems = [
               {  id: 1,   title: 'Node 1',           parent: null, 'parent@': true,  'parent$': true  },
               {  id: 11,  title: 'Node 1-1',         parent: 1,    'parent@': true,  'parent$': true  },
               {  id: 111, title: 'Leaf 1-1-1',       parent: 11,   'parent@': null,  'parent$': true  },
               {  id: 12,  title: 'Leaf 1-2',         parent: 1,    'parent@': null,  'parent$': true  },
               {  id: 13,  title: 'Hidden node 1-3',  parent: 1,    'parent@': false, 'parent$': true  },
               {  id: 2,   title: 'Empty node 2',     parent: null, 'parent@': true,  'parent$': true  },
               {  id: 3,   title: 'Hidden node 3',    parent: null, 'parent@': false, 'parent$': true  },
               {  id: 31,  title: 'Leaf 3-1',         parent: 3,    'parent@': null,  'parent$': true  },
               {  id: 4,   title: 'Empty hidden 4',   parent: null, 'parent@': false, 'parent$': false },
               {  id: 5,   title: 'Leaf 5',           parent: null, 'parent@': null,  'parent$': true  }
            ];

         new Link({
            element: "Back",
            caption: 'Назад',
            href: '../../',
            icon: 'sprite:icon-16 icon-DayBackward icon-primary'
         });

         new TreeView({
            element: '#DemoTreeView',
            idProperty: 'id',
            parentProperty: 'parent',
            displayProperty: 'title',
            nodeProperty: 'parent@',
            dataSource: new MemorySource({
               data: TreeViewItems,
               idProperty: 'id'
            }),
            expandMode: 'single'
            /*items: TreeViewItems*/
         });
      });
   })
});
</script>
</body>
</html>
