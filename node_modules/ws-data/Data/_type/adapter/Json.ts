/// <amd-module name="Data/_type/adapter/Json" />
/**
 * Адаптер для данных в формате JSON.
 * Работает с данными, представленными в виде обычных JSON объектов.
 * Примеры можно посмотреть в модулях {@link WS.Data/Adapter/JsonRecord} и {@link WS.Data/Adapter/JsonTable}.
 * @class WS.Data/Adapter/Json
 * @extends WS.Data/Adapter/Abstract
 * @public
 * @author Мальцев А.А.
 */

import Abstract from './Abstract';
import JsonTable from './JsonTable';
import JsonRecord from './JsonRecord';
import {di} from '../../util';

export default class Json extends Abstract /** @lends WS.Data/Adapter/Json.prototype */{
   forTable(data) {
      return new JsonTable(data);
   }

   forRecord(data) {
      return new JsonRecord(data);
   }

   getKeyField() {
      return undefined;
   }
}

Json.prototype['[Data/_type/adapter/Json]'] = true;
Json.prototype._moduleName = 'Data/type:adapter.Json';

di.register('Data/type:adapter.Json', Json, {instantiate: false});
//FIXME: deprecated
di.register('adapter.json', Json);
