/// <amd-module name="Data/_display/GroupItem" />
/**
 * Группа элементов
 * @class WS.Data/Display/GroupItem
 * @extends WS.Data/Display/CollectionItem
 * @public
 * @author Мальцев А.А.
 */

import CollectionItem from './CollectionItem';
import {di} from '../util';

export default class GroupItem extends CollectionItem /** @lends WS.Data/Display/GroupItem.prototype */{
   /**
    * @cfg {Boolean} Развернута или свернута группа. По умолчанию развернута.
    * @name WS.Data/Display/GroupItem#expanded
    */
   protected _$expanded: boolean;

   constructor(options) {
      super(options);
      this._$expanded = !!this._$expanded;
   }

   /**
    * Возвращает признак, что узел развернут
    * @return {Boolean}
    */
   isExpanded(): boolean {
      return this._$expanded;
   }

   /**
    * Устанавливает признак, что узел развернут или свернут
    * @param {Boolean} expanded Развернут или свернут узел
    * @param {Boolean} [silent=false] Не генерировать событие
    */
   setExpanded(expanded: boolean, silent?: boolean) {
      if (this._$expanded === expanded) {
         return;
      }
      this._$expanded = expanded;
      if (!silent) {
         this._notifyItemChangeToOwner('expanded');
      }
   }

   /**
    * Переключает признак, что узел развернут или свернут
    */
   toggleExpanded() {
      this.setExpanded(!this.isExpanded());
   }
}

GroupItem.prototype._moduleName = 'Data/display:GroupItem';
GroupItem.prototype['[Data/_display/GroupItem]'] = true;
// @ts-ignore
GroupItem.prototype._instancePrefix = 'group-item-';
// @ts-ignore
GroupItem.prototype._$expanded = true;

// Deprecated
GroupItem.prototype['[WS.Data/Display/GroupItem]'] = true;

di.register('Data/display:GroupItem', GroupItem);
