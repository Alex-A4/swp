/* global define */
define('WS.Data/Entity/Record', [
   'Data/type',
   'Data/util',
   'Core/core-extend',
   'WS.Data/Type/Flags',
   'WS.Data/Type/Enum'
], function(
   type,
   util,
   coreExtend
) {
   'use strict';

   var Record = type.Record;

   Record.extend = function(mixinsList, classExtender) {
      return coreExtend.extend(Record, mixinsList, classExtender);
   };

   // Aliases
   Record.prototype._hasChanged = Record.prototype._hasChangedField;
   Record.prototype._setChanged = Record.prototype._setChangedField;
   Record.prototype._unsetChanged = Record.prototype._unsetChangedField;
   Record.prototype._clearPropertiesCache = Record.prototype._clearFieldsCache;

   // Deprecated
   Record.prototype._hasInPropertiesCache = function(name) {
      return this._fieldsCache.has(name);
   };
   Record.prototype._getFromPropertiesCache = function(name) {
      return this._fieldsCache.get(name);
   };
   Record.prototype._setToPropertiesCache = function(name, value) {
      this._fieldsCache.set(name, value);
   };
   Record.prototype._unsetFromPropertiesCache = function(name) {
      this._fieldsCache.delete(name);
   };

   util.di.register('entity.$record', Record, {instantiate: false});
   util.di.register('entity.record', Record);

   return Record;
});
