/* global define */
define('WS.Data/Collection/ArrayEnumerator', [
   'Data/collection',
   'WS.Data/Utils',
   'Core/core-extend',
   'Core/helpers/Function/throttle'
], function(
   collection,
   Utils,
   coreExtend,
   throttle
) {
   'use strict';

   /**
    * Выводит предупреждения не чаще указанного интервала
    */
   var warning = throttle(Utils.logger.error, 300);

   // Deprecated
   var ArrayEnumerator = coreExtend.extend(collection.ArrayEnumerator, {
      '[WS.Data/Collection/ArrayEnumerator]': true,

      getNext: function() {
         warning(this._moduleName + '::getNext(): method is deprecated and will be removed in 3.18.10. Use moveNext() + getCurrent() instead.');
         return this.moveNext() ? this.getCurrent() : undefined;
      }
   });

   return ArrayEnumerator;
});
