define('Deprecated/Controls/FieldCheckbox/Demo/CheckBox/CheckBox', [
   'SBIS3.CONTROLS/Utils/InformationPopupManager',
   'Lib/Control/CompoundControl/CompoundControl',
   'html!Deprecated/Controls/FieldCheckbox/Demo/CheckBox/CheckBox',
   'Deprecated/Controls/FieldCheckbox/FieldCheckbox',
   'Deprecated/Controls/Button/Button',
   'Deprecated/Controls/LinkButton/LinkButton'
], function(
   InformPopManager,
   CompoundControl,
   dotTplFn
) {
   /**
     * Deprecated/Controls/FieldCheckbox/Demo/CheckBox/CheckBox
     * @class Deprecated/Controls/FieldCheckbox/Demo/CheckBox/CheckBox
     * @extends Lib/Control/CompoundControl/CompoundControl
     * @control
     */
   var moduleClass = CompoundControl.extend(/** @lends Deprecated/Controls/FieldCheckbox/Demo/CheckBox/CheckBox.prototype */{
      _dotTplFn: dotTplFn,
      $protected: {
         _options: {

         }
      },
      $constructor: function() {
      },

      init: function() {
         moduleClass.superclass.init.call(this);
         var self = this;
         this.getChildControlByName('FieldCheckbox 1').subscribe('onValueChange', function(event, value){
            if (value === true){
               self.getChildControlByName('Button 1').setEnabled(true);
            }
            else{
               self.getChildControlByName('Button 1').setEnabled(false);
            }
         });
         this.getChildControlByName('Button 1').subscribe('onActivated', function(){
            InformPopManager.showMessageDialog({
               status: 'default',
               message: 'Пользователь зарегистрирован!'
            });
            self.getTopParent().getChildControlByName('FieldCheckbox 1').setValue(false);
         });
         this.getChildControlByName('FieldCheckbox 4').subscribe('onValueChange', function(event, value){
            if (value === true ){
               self.getChildControlByName('FieldCheckbox 4').setCaption('Текст подписи флага изменён!');
            }
            else {
               self.getChildControlByName('FieldCheckbox 4').setCaption('Изменить текст подписи флага?');
            }
         });
         this.getChildControlByName('FieldCheckbox 7').subscribe('onValueChange', function(){
            self.getChildControlByName('FieldCheckbox 7').hide();
            self.getChildControlByName('Button 2').setEnabled(true);

         });
         this.getChildControlByName('LinkButton 1').subscribe('onActivated', function(){
            self.getChildControlByName('FieldCheckbox 7').show();
            self.getChildControlByName('LinkButton 1').setEnabled(false);
         });
      }
   });
   return moduleClass;
});