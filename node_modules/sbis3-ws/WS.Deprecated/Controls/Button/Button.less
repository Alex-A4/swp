@import "../../index";

@bigButtonFont              : normal normal 18px @globalFontFamily;   //Шрифт большой кнопки
@bigButtonDoubleLineFont    : normal normal 13px @globalFontFamily;   //Шрифт большой кнопки для случая с двустрочным текстом

@defaultButtonTextColor     : #000;
@classicBorderColor         : #587AB0;
@defaultBorderColor         : #ff7033;
@disableBorderColor         : #CCCCCC;

@classicPrimaryBackgroundColor:     transparent;
@classicHoverBackgroundColor:       #F0F5FB;
@classicActiveBackgroundColor:      #CBD5E5;
@disableBackgroundColor:            transparent;
@defaultPrimaryBackgroundColor:     transparent;
@defaultHoverBackgroundColor:       #FDECD9;
@defaultActiveBackgroundColor:      #FDD2C0;

@bigPrimaryBackgroundColor:         @classicPrimaryBackgroundColor;
@bigHoverBackgroundColor:           @classicHoverBackgroundColor;
@bigActiveBackgroundColor:          @classicActiveBackgroundColor;
@bigDisableBackgroundColor:         @disableBackgroundColor;
@bigDefaultPrimaryBackgroundColor:  @defaultPrimaryBackgroundColor;
@bigDefaultHoverBackgroundColor:    @defaultHoverBackgroundColor;
@bigDefaultActiveBackgroundColor:   @defaultActiveBackgroundColor;

.ws-button-classic {
   color: @globalDefaultColor;
   background-color: @classicPrimaryBackgroundColor;
   background-size: 100% 100%;
   border-radius: 16px;
   border: 1px solid @classicBorderColor;
   &.ws-enabled {
      &:hover {
         background-color: @classicHoverBackgroundColor;
      }
      &:active, &.ws-field-button-element-active, &.ws-button-pressed {
         background-color: @classicActiveBackgroundColor;
      }
      &.ws-button-pressed {
         border-width: 2px;
         .ws-button-image.icon-16 {
            top: 2px;
         }
         .ws-button-image.icon-24 {
            top: -2px;
         }
         .ws-button-caption {
            margin: 0 11px;
         }
      }
   }
   &.ws-disabled, &.ws-default-button.ws-disabled {
      color: @disabledButtonTextColor !important;
      background-color: @disableBackgroundColor;
      cursor: default;
      border-color: @disableBorderColor;
   }
   &.ws-default-button {
      color: @defaultButtonTextColor;
      background: @defaultPrimaryBackgroundColor;
      border-color: @defaultBorderColor;
      &.ws-enabled {
         &:hover {
            background-color: @defaultHoverBackgroundColor;
         }
         &:active, &.ws-field-button-element-active, &.ws-button-pressed {
            background-color: @defaultActiveBackgroundColor !important;
         }
      }
      .ws-button-image {
         color: #555 !important;
      }
   }
   &.ws-button-filled, &.ws-default-button.ws-button-filled, &.ws-btn-big.ws-button-filled, &.ws-btn-big.ws-default-button.ws-button-filled {
      background-color: #fff;
   }
   &.ws-button-with-menu {
      .ws-button-caption {
         margin-right: 24px;
      }
      &:after {
         content: "\e673"; //ArrowDown
         font-family: 'cbuc-icons' !important;
         font-size: 14px;
         display: block;
         position: absolute;
         top: 0;
         right: 12px;
         width: 8px;
         line-height: 22px;
      }
      &.ws-field-button-element-active {
         &.ws-button-image-left .ws-button-caption {
            margin-right: 24px;
         }
         border-width: 2px;
         line-height: 20px;
         height: 24px;
         .ws-button-image {
            left: 11px;
            top: 2px;
            color: inherit;
         }
         .ws-button-caption {
            line-height: 20px;
            margin: 0 23px 0 11px;
         }
         &:after {
            top: -1px;
            right: 11px;
         }
      }
   }
   &.ws-button-image-right {
      .ws-button-image {
         right: 12px;
         &.icon-16 + .ws-button-caption {
            padding-right: 20px;
         }
         &.icon-24 + .ws-button-caption {
           padding-right: 28px;
         }
      }
      &.ws-button-with-menu {
         .ws-button-image {
            right: 20px;
         }
         .ws-button-caption {
            margin-right: 36px;
         }
      }
      &.ws-button-pressed {
         .ws-button-image.icon-16 {
            right: 11px;
         }
         .ws-button-image.icon-24 {
            right: 11px;
         }
      }
   }
   &.ws-button-image-left {
      .ws-button-image {
         left: 12px;
         &.icon-16 + .ws-button-caption {
            padding-left: 20px;
         }
         &.icon-24 + .ws-button-caption {
            padding-left: 28px;
         }
      }
      &.ws-button-with-menu .ws-button-caption {
         margin-right: 25px;
      }
      &.ws-button-pressed {
         .ws-button-image.icon-16 {
            left: 11px;
         }
         .ws-button-image.icon-24 {
            left: 11px;
         }
      }
   }
   .ws-button-caption {
      margin: 0 12px;
   }
   &.ws-button-autoWidth {
      .ws-button-caption {
         margin: 0 12px;
      }
      &.ws-button-with-menu {
         .ws-button-caption {
            margin-right: 24px;
         }
      }
      &.ws-button-image-right {
         .ws-button-image {
            right: 12px;
         }
         .ws-button-caption {
            margin-right: 40px;
         }
         &.ws-button-with-menu {
            .ws-button-image {
               right: 24px;
            }
            .ws-button-caption {
               margin-right: 44px;
            }
         }
      }
      &.ws-button-image-left {
         .ws-button-image {
            left: 12px;
         }
         &.ws-button-with-menu .ws-button-caption {
            margin-right: 24px;
         }
      }
   }
   &.ws-btn-big {
      height: 48px !important;
      border-radius: 24px;
      font: @bigButtonFont;
      background-color: @bigPrimaryBackgroundColor;
      .ws-button-image.icon-16 {
         top: 15px;
      }
      .ws-button-image.icon-24 {
         top: 11px;
      }
      &.ws-button-pressed {
         .ws-button-caption {
            line-height: 32px;
            margin: 6px 23px;
         }
         &.ws-enabled:hover {
            background-color: @bigActiveBackgroundColor;
         }
         .ws-button-image.icon-16 {
            top: 14px;
         }
         .ws-button-image.icon-24 {
            top: 10px;
         }
      }
      &.ws-enabled {
         &:hover {
            background-color: @bigHoverBackgroundColor;
         }
         &:active, &.ws-field-button-element-active, .ws-button-pressed {
            background-color: @bigActiveBackgroundColor;
         }
      }
      &.ws-disabled, &.ws-default-button.ws-disabled {
         background-color: @bigDisableBackgroundColor;
      }
      &.ws-default-button {
         background-color: @bigDefaultPrimaryBackgroundColor;
         &.ws-enabled {
            &:hover {
               background-color: @bigDefaultHoverBackgroundColor;
            }
            &:active, &.ws-field-button-element-active, &.ws-button-pressed {
               background-color: @bigDefaultActiveBackgroundColor;
            }
         }
      }
      .ws-button-caption {
         line-height: 32px;
         margin: 7px 24px;
         white-space: normal;
      }
      &.ws-button-image-left {
         .ws-button-image {
            left: 20px;
         }
         &.ws-button-pressed .ws-button-image {
            left: 19px;
         }
      }
      &.ws-button-image-right {
         .ws-button-image {
            right: 20px;
         }
         &.ws-button-pressed .ws-button-image {
            right: 19px;

         }
      }
      &.dbl-line{
         font: @bigButtonDoubleLineFont;
      }
   }
   &.ws-button-classic.sbisname-window-title-close {
      background: none;
   }
   &.ws-button-small {
      min-width: 20px;
      max-width: 20px;
      min-height: 20px;
      max-height: 20px;
      &, &.ws-has-focus {
         background: transparent url("resources/images/btn_add_20px.png") no-repeat 0 0px;
      }
      &.ws-enabled {
         &:hover {
            background: transparent url("resources/images/btn_add_20px.png") no-repeat 0 -20px;
         }
         &:active, &.ws-field-button-element-active {
            background: transparent url("resources/images/btn_add_20px.png") no-repeat 0 -40px;
         }
      }
      &.ws-field-button.ws-disabled, &.ws-disabled:hover {
         background: transparent url("resources/images/btn_add_20px.png") no-repeat 0 -60px;
      }
      .ws-button-image, .ws-button-caption, &:after {
         display: none;
      }
   }
}

@-moz-document url-prefix() {
   .ws-button-classic {
      .ws-button-caption {
         line-height: 21px;
      }
      .ws-button-image.icon-16 {
         top: 3px;
      }
      .ws-button-image.icon-24 {
         top: -1px;
      }
      &.ws-button-pressed {
         .ws-button-caption {
            margin-top: 2px;
         }
         .ws-button-image.icon-16 {
            top: 2px;
         }
         .ws-button-image.icon-24 {
            top: -2px;
         }
      }
      .ws-button-caption:after {
         top: 5px;
      }
      .ws-button-with-menu:after {
         top: -1px;
      }
   }
   .ws-toolbar .ws-field-button .ws-button-caption {
      line-height: 20px !important;
      height: 22px;
   }
   .ws-button-menu-clone-container {
      .ws-button-classic.ws-button-with-menu.ws-field-button-element-active {
         .ws-button-caption {
            margin-top: 0px;
         }
      }
      .ws-button-with-menu:after {
         top: -1px !important;
      }
   }
}

@media screen and (-webkit-min-device-pixel-ratio:0) {
   .ws-button-classic {
      .ws-button-caption, .ws-button-image {
         line-height: 22px;
      }
      &.ws-button-pressed {
         .ws-button-caption, .ws-button-image {
            line-height: 20px;
         }
      }
   }
}

.ws-is-ie {
   .ws-button-classic .ws-button-caption {
      margin-top: -1px;
   }
   .icon-24.ws-button-image {
      top: -1px;
   }
   .ws-item-toolbar {
      .icon-24.ws-button-image {
         top: -1px;
      }
   }
   .ws-btn-big .ws-button-caption{
      margin: 7px 24px;
   }
   .ws-button-pressed.ws-enabled.ws-button-classic {
      .icon-24.ws-button-image {
         top: -2px;
      }
      .ws-button-caption {
         line-height: 20px;
      }
      &.ws-btn-big {
         .ws-button-caption {
            line-height: 32px;
         }
         .icon-24.ws-button-image {
            top: 10px;
         }
      }
   }
}

.ws-button-menu-header-left, .ws-button-menu-header-right {
   height: 31px;
   background: transparent url("@{globalImagesPath}MenuButton-header.png");
}

.ws-button-menu-header-left {
   background-position: 0 -30px;
}

.ws-button-menu-header-center{
   position: absolute;
   height: 31px;
   left: 12px;
   background-color: #fff;
}

.ws-button-menu-clone-container {
   .ws-field-button {
      overflow: visible;
      margin: 0;
   }
}

.ws-add-button {
   .ws-button-caption, .ws-link-body:after {
      display: none !important;
   }
}

.ws-validation-error.ws-field-button {
   outline: 1px solid #FF302B;;
   outline-offset: -1px;
}
.ws-button-ie8-redraw-icon .ws-button-image:before {
   content: '' !important;
}
