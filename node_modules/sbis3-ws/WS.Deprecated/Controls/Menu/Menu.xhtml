{{var menu = arguments[1],
      dataArray, isMainMenu;}}
{{?it.data}}
   {{dataArray=it.data;
      isMainMenu=true;}}
{{??}}
   {{dataArray=it;}}
{{?}}
{{?isMainMenu}}
<div class="ws-button-menu-clone-container"></div>
{{?}}
<ul class="menu-ul ws-hidden">
   {{~dataArray :value:index}}
      {{?value.caption}}
         {{var hasItemImage=value.imgSrc;}}
         <li class="ws-menu-item ws-menu-with-caption{{?hasItemImage}}{{=' ws-menu-hasImg'}}{{??}}{{=' ws-menu-item-without-image'}}{{?}}
                  {{?value.addClass}}{{=value.addClass}}{{?}}{{?value.subMenu}}{{=' ws-with-submenu'}}{{?}}{{?value.enabled === false}}{{=' ws-disabled'}}{{?}}"
             id="{{?value.id!==undefined}}{{=value.id}}{{?}}" {{?value.tooltip}}title="{{=value.tooltip}}"{{?}}>
            {{?hasItemImage}}
               {{?value.imgSrc.indexOf('sprite:') !== -1}}
                  <div class="ws-menu-image {{=value.imgSrc.split('sprite:')[1]}}"/>
               {{??}}
                  <img class="ws-menu-image" src="{{=value.imgSrc}}"/>
               {{?}}
            {{?}}
            <span class="menu-span">{{=menu._renderElement(value.id, value.caption)}}</span>
            {{?value.subMenu}}<span class="ws-submenu-icon"></span>{{?}}
         </li>
      {{??}}
         <li class="menu-separator"/>
      {{?}}
   {{~}}
</ul>