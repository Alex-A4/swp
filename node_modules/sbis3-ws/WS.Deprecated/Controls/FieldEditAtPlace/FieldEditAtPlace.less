@import "../../index";

.ws-FieldEditAtPlace {
   .ws-disabled & {
      .ws-field {
         color: inherit;
      }
      .ws-FieldEditAtPlace__underline {
         border-bottom: none !important;
         cursor: default;
      }
   }
}

// Режим редактирования по месту через класс ws-FieldEditAtPlace__underline
.ws-FieldEditAtPlace__underline {
   cursor: pointer;
   .ws-field, .ws-field:hover {
      background: url("@{globalImagesPath}underline.png") bottom left repeat-x !important;
      padding-bottom: 1px !important;
      border-color: transparent !important;
      border-bottom: none;
      display: inline-block;
   }
   &.ws-validation-error {
      .ws-field, .ws-field:hover {
         background-color: @fieldValidationErrorBackgroundColor !important;
      }
   }
   input{
      background: transparent !important;
      cursor: pointer;
   }
   &.readonly .ws-field,
   &.ws-disabled .ws-field {
      cursor: inherit !important;
      background: none !important;
      color: inherit;
   }
}

.ws-FieldEditAtPlace__string {
   position: relative;
   display: block;
}

.ws-FieldEditAtPlace__editArea {
   background: none repeat scroll 0 0 #F8F3F1;
   border-radius: 2px;
   box-shadow: 0 0 3px #B2B2B2;
   padding: 4px;
   position: absolute;
   width: auto;
   z-index: 9999;
}

.ws-FieldEditAtPlace__apply {
   vertical-align: middle;
   min-width: 24px;
   //Выравниваю иконку по центру кнопки
   &.ws-button-classic.ws-button-image-left .ws-button-image {
      left: 4px;
   }
}

@-moz-document url-prefix() {
   .ws-FieldEditAtPlace__apply.ws-button-classic {
      overflow: visible;
   }
}

.ws-FieldEditAtPlace__cancel {
   cursor: pointer;
   height: 16px;
   width: 16px;
   line-height: 16px;
   display: inline-block;
   vertical-align: middle;
   background: url("../../img/clear-sprites.png") top left no-repeat;
   background-position: 0px -32px;
   &:hover {
      background-position: 0px -16px;
   }
}

.ws-FieldEditAtPlace__editors {
   display: inline-block;
   vertical-align: top;
}

.ws-FieldEditAtPlace__controlPanel {
   display: inline-block;
   vertical-align: top;
   position: relative;
}

// В Firefox высота панели на 1px больше и обрезается снизу, делаю меньше line-height.
@-moz-document url-prefix() {
   .ws-TabButtons__buttonInside .ws-FieldEditAtPlace__controlPanel {
      line-height: 27px;
   }
}

.isTabEditor {
   .ws-field input {
      background: transparent !important;
   }

   .ws-TabButtons__button__state-inactive &, .ws-tabs-button-inactive & {
      .ws-FieldEditAtPlace__underline {
         .ws-field, .ws-field:hover {
            color: #999999;
            background: none !important;
         }
      }
      .ws-editAtPlace {
         background: none;
      }

      // simple edit field on inactive tab
      .ws-field, .ws-field:hover {
         border-color: transparent !important;
         background: transparent;
      }
   }
  .ws-FieldEditAtPlace__string{
    max-width: 650px;
    overflow: hidden;
    text-overflow: ellipsis;
  }
}
// modifiers
.ws-tab-underline{
   .ws-TabButtons__button__state-active .ws-FieldEditAtPlace__idle &,
   .ws-tabs-button-active .ws-FieldEditAtPlace__idle &{
      background: url("@{globalImagesPath}underline.png") bottom left repeat-x !important;
      .readonly &{
         background: none !important;
      }
   }
}

.ws-underline {
   .ws-FieldEditAtPlace__editors &,
   .ws-FieldEditAtPlace__editing &,
   .readonly &,
   .ws-disabled &,
   &.readonly,
   &.ws-disabled {
      background: none !important;
   }
   background: url("@{globalImagesPath}underline.png") bottom left repeat-x !important;
}
