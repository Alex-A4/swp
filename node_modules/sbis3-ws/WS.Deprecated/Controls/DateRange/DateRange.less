@import "../../index";

@dateRangeTextViewColor: @globalAsLinkColor;

.ws-date-range-today{
   position:absolute;
   width:98px;
   height:20px;
   top:161px;
   left:5px;
   line-height:20px;
   height:20px;
   text-align:center;
   color:#000;
}

.ws-date-range-menu-bot{
   width:500px;
   margin: 0 5px 5px 5px;
   overflow:hidden;
   height:222px;
   -webkit-user-select: none;
   -khtml-user-select: none;
   -moz-user-select: -moz-none;
   -o-user-select: none;
   user-select: none;
}
.ws-date-range-months{
   position:relative;
   height:21px;
   margin-top:-3px;
}
.ws-date-range-month, .ws-date-range-day{
   text-align:center;
}

.ws-date-range-month{
   cursor:pointer;
   width:33px;
   height:17px;
   line-height:14px;
   &.selected {
      &:first-of-type div {
         -webkit-border-top-left-radius: 3px;
         -moz-border-radius-topleft: 3px;
         border-top-left-radius: 3px;
      }
      &:last-of-type div {
         -webkit-border-top-right-radius: 3px;
         -moz-border-radius-topright: 3px;
         border-top-right-radius: 3px;
      }
      &:first-of-type div:before,
      &:last-of-type div:after {
         display:none;
      }
   }
}

.ws-date-range-month-text{
   margin-top:3px;
   padding: 2px;
   height:13px;
   font-size:9px;
}
.ws-date-range-day{
   cursor:default;
   padding: 2px;
   font-size:11px;
}
.ws-date-range-slider{
   position:absolute;
   height:16px;
   top:5px;
   left:0;
   border:solid #f3b200 0;
   &.left,
   &.left .ws-date-range-slider-bg {
      border-left-width: 1px;
   }
   &.right,
   &.right .ws-date-range-slider-bg {
      border-right-width: 1px;
   }
   &.preselected {
      opacity: 0.5;
      filter: ~"alpha(opacity = 50)";
      z-index:-2;
   }
   &.selected{
      z-index:-1;
   }
}
.ws-date-range-month.selected .ws-date-range-month-text{
   margin-top:0;
   padding:5px 2px 2px 2px;
   position:relative;
   border:none;
   height:14px;
}
.ws-date-range-calendar{
   height: 179px;
   overflow: hidden !important;
}
.ws-date-range-table{
   width:399px;
   &.year {
      width:100px;
      font-size:11px;
   }
   & tr {
      height:30px;
   }
}
.ws-date-range-date-block{
   height:25px;
   padding:2px;
   &.start, &.end {
      color:#fff;
      text-shadow:#000 1px 1px 2px;
   }
   &.start .ws-date-range-date-month, &.end .ws-date-range-date-month{
      color:#fff;
      display:block;
   }
}
.ws-date-range-current-block{
   border:1px solid #777;
}
.ws-date-range-date-number{
   height:13px;
   text-align:left;
   font-size:15px;
   line-height:13px;
}

.ws-date-range-date-month{
   font-size:10px;
   text-align:left;
   height:12px;
   line-height: 12px;
   color:#777;
   display:none;
}
.ws-date-range-menu-year{
   height:37px;
   line-height: 37px;
   width:100px;
   padding: 0;
   background:#a8afb9;
   color:#000;
   border-top:1px solid #eee;
   border-bottom:1px solid #868c93;
   text-align:center;
   font-weight:bold;
   font-size:20px;
   cursor:pointer;
   -webkit-border-top-right-radius: 3px;
   -moz-border-radius-topright: 3px;
   border-top-right-radius: 3px;
}
.ws-date-range-menu-halfyear, .ws-date-range-menu-quarter{
   height:29px;
   border-bottom:1px solid #868c93;
   text-align:center;
   line-height:29px;
   cursor:pointer;
   font-size:14px;
   float:left;
   background:#a8afb9;
}
.ws-date-range-menu-halfyear{
   border-right:1px solid #868c93;
   width:49px;
   &.last{
      border-right: none;
      width:50px;
   }
}
.ws-date-range-menu-quarter{
   width:24px;
   border-right:1px solid #868c93;
   &.last{
      width:25px;
      border-right: none;
   }
}
.ws-date-range-menu-halfyear:hover, .ws-date-range-menu-quarter:hover, .ws-date-range-today-button:hover,
.ws-date-range-menu-right .toggle{
   color:#000;
}
.ws-date-range-date.year .ws-date-range-date-block.visible{
   font-weight:bold;
   padding:1px;
   border:1px solid #fcd000;
}
.ws-validation-error > .ws-date-range-input-block .ws-field,
.ws-validation-error > .ws-date-range-input-block .ws-field:hover,
.ws-validation-error > .ws-date-range-block .ws-field,
.ws-validation-error > .ws-date-range-block .ws-field:hover {
   border: 1px solid transparent !important;
}


//````````````````````
.ws-date-range-menu-block{
   font-family: Arial;
   position: absolute;
   z-index: 9000;
   font-size: 11px;
   width:509px;
   -moz-border-radius: 3px;
   -webkit-border-radius: 3px;
   background-image: linear-gradient(top, rgb(105,119,136) 0%, rgb(57,60,64) 100%);
   background-image: -o-linear-gradient(top, rgb(105,119,136) 0%, rgb(57,60,64) 100%);
   background-image: -moz-linear-gradient(top, rgb(105,119,136) 0%, rgb(57,60,64) 100%);
   background-image: -webkit-linear-gradient(top, rgb(105,119,136) 0%, rgb(57,60,64) 100%);
   background: #fff;
   box-shadow: 2px 0px 8px rgba(11, 11, 11, 0.298);
   border-radius: 0;
   height: 258px;
   filter:~"progid:DXImageTransform.Microsoft.gradient(startColorstr=#FFFFFFFF, endColorstr=#FFFFFFFF)";

   .ws-field{
      position: static;
   }
}

.ws-date-range-date{
   height:25px;
   width: 56px;
   border-bottom:1px solid #777;
   border-right:1px solid #777;
   cursor:pointer;
   background: #fff;
   border-color: #ddd;

   &.selected.month-even > div:hover,
   &.selected > div,
   &.hover > div,
   &.preselected > div,
   &.year:hover,
   &.preselected.month-even > div,
   &.selected.month-even > div,
   &.selected > div:hover{
      background: #ffc796;
      color: #000;
   }

   &.month-even {
      background:#ebe9ea;
   }
   &.year{
      width:auto;
      border-right: none;
      line-height: 25px;
      text-align:center;
      background: #f3f3f3;
      color: #000;
      .ws-date-range-current-block.current{
         line-height:23px;
      }
   }
   &.preselected .ws-date-range-date-month, &.selected .ws-date-range-date-month{
      color:#000;
   }

   &.current{
      background: transparent url('@{globalImagesPath}today_marker.png') no-repeat top right;
   }
}

.ws-date-range-menu-right{
   background: #fff;
}

.ws-date-range-today-button {
   position:absolute;
   width:103px;
   top:181px;
   left:0;
   height:37px;
   line-height:37px;
   background:#a8afb9;
   text-align:center;
   font-size:14px;
   cursor:pointer;
   -webkit-border-bottom-right-radius: 3px;
   -moz-border-radius-bottomright: 3px;
   border-bottom-right-radius: 3px;
}

.ws-date-range-today-button,
.ws-date-range-menu-halfyear,
.ws-date-range-menu-quarter,
.ws-date-range-menu-year{
   background: #f3f3f3;
   color: #000;
   border-color: #ddd;
   border-radius: 0;
}

.ws-date-range-today-button:hover,
.ws-date-range-menu-halfyear:hover,
.ws-date-range-menu-quarter:hover,
.ws-date-range-menu-year:hover,
.ws-date-range-menu-right .toggle{
   background: #f26b0f;
   color: #fff;
}

.ws-date-range-close.close {
   top: 5px;
}

.ws-date-range-close{
  float:right;
  width:101px;
  height:22px;
  text-align:center;
  background:transparent url('@{globalImagesPath}submit_bgx22.png') no-repeat 0 0;
  cursor:pointer;
  line-height:22px;
  font-size:14px;
  color:#333;
  text-shadow:#fff 1px 1px 2px;
  &:hover {
     background-position:0 -22px;
  }
  &:active{
     background-position:0 -44px;
  }
}

.ws-date-range-menu-dates{
   padding:5px 5px 1px 5px;
   position:relative;
   height: 25px;

   .calendar-container {
      display:none !important;
   }
   .ws-browser-edit-button {
      width: 24px;
      height: 24px;
      position: absolute;
      right: 34px;
      z-index: 1;
      cursor: pointer;
      margin: 0;
   }
}

.ws-date-range-title{
   padding-right:6px;
   height:22px;
   line-height:22px;
   margin-left: 8px;
   float: left;
}

.ws-date-range-menu-left,
.ws-date-range-menu-right{
   border-color: #ddd;
   border-radius: 0;
}

.ws-date-range-menu-left{
   width:398px;
   margin-top:3px;
   height:218px;
   float:left;
   border: #ddd solid;
   border-left-color: #BBB;
   border-right-color: #a5a5a5;
   border-width:0 1px 1px 1px;
   position:relative;
   z-index:2;
   box-shadow: none;
}

.ws-date-range-menu-right{
   width:100px;
   height:218px;
   right:5px;
   position:absolute;
   margin-top:3px;
   padding-left:3px;
   color:#fff;
   border-bottom: 1px solid #ddd;
   border-right: 1px solid #ddd;
}

.ws-date-range-slider-bg{
   height:16px;
   border:solid #58616a 0;
   background: #ffc796;
}

.ws-date-range-month-selection{
   border-top: 1px solid #DDD;
   border-radius: 0;
  z-index:-3;
  position:absolute;
  width:33px;
  height:21px;
  top:0;
  left:0;
  -moz-box-shadow: 1px 1px 3px #777;
  -webkit-box-shadow: 1px 1px 3px #777;
  box-shadow: 1px 1px 3px #777;
}

.ws-date-range-month-selection,
.ws-date-range-month.selected .ws-date-range-month-selection2{
   background: -o-linear-gradient(top, white 0%, #F8F8F8 100%);
   background: -moz-linear-gradient(top, white 0%, #F8F8F8 100%);
   background: -webkit-linear-gradient(top, white 0%, #F8F8F8 100%);
   background: -ms-linear-gradient(top, white 0%, #F8F8F8 100%);
   filter:~"progid:DXImageTransform.Microsoft.gradient(startColorstr=#FFFFFFFF, endColorstr=#FFF8F8F8)";
}

.ws-date-range-days{
   background: -o-linear-gradient(top, #F8F8F8 0%, #E7E7E7 100%);
   background: -moz-linear-gradient(top, #F8F8F8 0%, #E7E7E7 100%);
   background: -webkit-linear-gradient(top, #F8F8F8 0%, #E7E7E7 100%);
   background: -ms-linear-gradient(top, #F8F8F8 0%, #E7E7E7 100%);
   filter:~"progid:DXImageTransform.Microsoft.gradient(startColorstr=#FFF8F8F8, endColorstr=#FFE7E7E7)";
   border-color: #A5A5A5;
   text-shadow: none;
   color: #000;
   height:20px;
   line-height:16px;
   border-bottom:1px solid #454e56;
   position:relative;
}

.ws-date-range-month.selected .ws-date-range-month-text:before{
   content: "";
   position: absolute;
   width: 3px;
   height: 3px;
   border: solid #a2adb6;
   border-width: 0 3px 3px 0;
   -webkit-border-bottom-right-radius: 6px;
   -moz-border-radius-bottomright: 6px;
   border-bottom-right-radius: 6px;
   clip: rect(auto 3px 3px auto);
   left:-3px;
   bottom:-3px;
}

.ws-date-range-month.selected .ws-date-range-month-text:after{
   content: "";
   position: absolute;
   width: 3px;
   height: 3px;
   border: solid #a2adb6;
   border-width: 0 0 3px 3px;
   -webkit-border-bottom-left-radius: 6px;
   -moz-border-radius-bottomleft: 6px;
   border-bottom-left-radius: 6px;
   clip: rect(auto auto 3px 3px);
   right:-3px;
   bottom:-3px;
}

.ws-date-range-month.selected .ws-date-range-month-text:before,
.ws-date-range-month.selected .ws-date-range-month-text:after{
   display: none;
}

.ws-date-range-selection-marker{
   background-image:url('@{globalImagesPath}selection_markers.png');
   display:none;
   position:absolute;
   top:128px;
   left:35px;
   width:38px;
   height:16px;
   cursor:pointer;
   &:hover {
      background-position:0 -32px;
   }
   &.bottom {
      background-position:0 -16px;
      &:hover {
         background-position:0 -48px;
      }
   }
}

.ws-date-range-month:first-of-type div,
.ws-date-range-month:last-of-type div,
.ws-date-range-months-bg{
   border-radius: 0;
}

.ws-date-range-months-bg{
   position:absolute;
   z-index:-3;
   margin-top:3px;
   height:17px;
   width:398px;
   border-top:1px solid #ddd;
   background:#dbdde1;
}

.ws-date-range-date-block.start > .ws-date-range-date-month,
.ws-date-range-date-block.end > .ws-date-range-date-month,
.ws-date-range-date.hover .ws-date-range-date-month{
   color: #fff !important;
}

.ws-date-range-date-block.start,
.ws-date-range-date-block.end,
.ws-date-range-date.hover > .ws-date-range-date-block{
   background-image: none !important;
   background: #f26b0f !important;
   color: #fff !important;
   border-radius: 0;
}

.ws-date-range-input-block{
   border: 1px solid transparent;
   background: #fff;
   height: 24px;
   margin-top: -1px;
   float:left;
   overflow:hidden;

   .ws-field-date {
      .ws-field {
         border: 1px solid transparent;
         height: 22px;
      }
   }

   .ws-field {
      background:none !important;
      .ws-field {
         border: 1px solid transparent;
         height: 22px;
      }
   }
}

.ws-date-range-block {
   float:left;
   height: 22px;

   &.delimeter {
      width: 24px;
      height: 24px;
      padding: 0 !important;
      margin: 0;
      background: url("@{globalImagesPath}DateRange__icon-delimeter.png") 0 0 no-repeat;
      position: relative;
      z-index: 1;
   }

   &.readonly {
      .ws-field {
         color: @globalDefaultColor;
      }
   }
}

.ws-enabled >
   .ws-date-range-block.delimeter {
      cursor: pointer;

      &:hover {
         -moz-box-shadow: 1px 1px 2px #777;
         -webkit-box-shadow: 1px 1px 2px #777;
         box-shadow: 1px 1px 2px #777;
         background-position: 0 -24px;
         .box-shadow(none);
      }

      &:active {
         background-position: 0 -48px;
      }
   }

.ws-enabled {
   &.ws-date-range-input-block {
      .ws-field {
         border-bottom-color: #eaeaea;  //error here oO
      }

      &:hover, &.has-focused-children {
         .ws-field {
            border-color: ~"#eaeaea #eaeaea #cccccc #eaeaea";  //error here oO
         }
      }
   }
}

.ws-date-range{
   font: @globalDefaultFontSize @globalFontFamily;

   .ws-field{
      position: static;
   }

   &.ws-date-range-text-view{
      color: @dateRangeTextViewColor;
   }

   .ws-date-range-text{
      color: inherit;
      font: inherit;

      &.ws-enabled:hover {
         color: @globalHoverColor;
         text-decoration:none;
      }
      &.ws-enabled {
         color:#084c7a;
         cursor:pointer;
         text-decoration:underline;
         &:hover {
            text-decoration:none;
         }
      }
   }

   .ws-field-date{
      color: inherit;
   }
}

/* TODO сделать цвет обводки на уровне компонента кнопки */
.date-range-apply-button{
   border-color: #72be44 !important;
   .ws-button-image {
      left: 3px!important;
      font-size: 14px;
   }
}
.date-range-apply-button:hover {
   .ws-button-image.icon-16{
     color: #ff7033 !important;
   }
   border-color: #ff7033 !important;
}

//ie9
:root .ws-date-range-block{
   &.ws-field-date>.ws-field{
      line-height:18px\9;
   }
}

.ws-date-range-block{
   &.ws-field-date>.ws-field{
      line-height:16px;
   }
}

.ws-date-range-error-marker {
   float:left;
   display:none;
   padding: 0 4px 0 0;
}

.ws-date-range-start-selection, .ws-date-range-end-selection{
   float:right;
   width:6px;
   background:transparent url('@{globalImagesPath}selection_range.png') no-repeat;
}

.ws-date-range-start-selection{
   height:6px;
}

.ws-date-range-end-selection{
   height:5px;
   background-position:0 -6px;
}

.ws-date-range-year-scroller{
   position:absolute;
   left:3px;
   top:39px;
   width:100px;
   height:179px;
   z-index:1;
   display:none;
   background: #ededed url('@{globalImagesPath}calendar_bg.png') repeat-x;
   overflow:hidden;
}


@media screen and (-webkit-min-device-pixel-ratio:0) {
   .ws-labeled-control .ws-date-range-input-block {
      margin-top: -1px;
   }
}
