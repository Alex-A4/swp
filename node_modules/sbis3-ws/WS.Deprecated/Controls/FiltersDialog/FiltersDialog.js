/**
 * Created with JetBrains PhpStorm.
 * User: tm.baeva
 * Date: 22.04.13
 * Time: 10:12
 * To change this template use File | Settings | File Templates.
 */
define("Deprecated/Controls/FiltersDialog/FiltersDialog", [
   "Core/core-merge",
   "Lib/Control/Dialog/Dialog"
], function(cMerge, Dialog) {

   "use strict";

   /**
    * @class Deprecated/Controls/FiltersDialog/FiltersDialog
    * @extends Lib/Control/Dialog/Dialog
    * @author Крайнов Д.О.
    * @public
    * @deprecated Используйте класс {@link SBIS3.CONTROLS/Filter/Button}.
    */
   var FiltersDialog = Dialog.extend(/** @lends Deprecated/Controls/FiltersDialog/FiltersDialog.prototype */{
      $constructor : function() {
         var self = this;
         this._publish('onBeforeApplyFilter');

         this.getOpener().subscribe('onBeforeApplyFilter', function(event, filter){
            var newFilter = cMerge(filter || {}, event.getResult() || {});
            event.setResult(self._notify("onBeforeApplyFilter", newFilter));
         });
      }
   });

   return FiltersDialog;

});