/**
 * Created by rn.kondakov on 27.07.2018.
 */
define('Core/HtmlJson/resources/tagResolver', [
   'Core/HtmlJson/resources/decoratedLinkResolver'
], function(decoratedLinkResolver) {

   function tagResolver(json, resolver) {
      if (typeof resolver === 'function') {
         return resolver(json);
      }
      if (Array.isArray(resolver)) {
         for (var i = 0; i < resolver.length; ++i) {
            json = tagResolver(json, resolver[i]);
         }
      }
      return json;
   }

   return function(json, outerResolver) {
      return tagResolver(json, outerResolver ? [outerResolver, decoratedLinkResolver] : decoratedLinkResolver);
   };
});
